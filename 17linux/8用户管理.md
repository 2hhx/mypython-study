# 用户管理

## 1 知识储备

![](https://img2018.cnblogs.com/blog/1739658/202001/1739658-20200109122555035-1674478428.png)

1.Linux
系统是一个多用户多任务的操作系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号，然后以这个账号的身份进入系统。

2.Linux 的用户需要至少要属于一个组



## 2 添加用户

### 2.1 基本语法

```
useradd  [选项]  用户名

例子:
useradd lxx 

说明:
1.创建用户成功后会自动创建和用户名同名的家目录
```

```
指定家目录

useradd -d 目录路径 用户名


指定用户组
先创建组 groupadd 组名
useradd -g 用户组名 用户名
```

一般来说都可以

​	`useradd -d /home/ocean/ -g cat ocean`

​	`useradd -d /home/ocean -g cat ocean`

## 3 给用户指定或修改密码

### 3.1 基本语法

```
passwd 用户名
```

![](https://img2018.cnblogs.com/blog/1739658/202001/1739658-20200109122558271-1222987651.png)



## 4 删除用户

### 4.1 基本语法

```
userdel 用户名			删除用户,保留家目录
userdel -r 用户名		删除用户,不保留家目录
```

### 4.2 说明

正常在我们删除用户的时候,一般会保留家目录



## 5 查询用户信息

### 5.1 基本语法

```
id 用户名
```

![](https://img2018.cnblogs.com/blog/1739658/202001/1739658-20200109122602347-1704042062.png)

**用户名不存在**

![](https://img2018.cnblogs.com/blog/1739658/202001/1739658-20200109122606320-1270953265.png)





## 6 切换用户

### 6.1 说明

当用户权限不够时,可以通过`su -`,来切换到高权限用户,比如root用户

### 6.2 基本语法

```
su - 用户名	或者 su 用户名	切换用户
exit			  返回原来用户
```

### 6.3 补充说明

从高权限用户切换到低权限用户时,不需要密码





```
小练习:
1.创建一个lxx的用户并指定密码
	useradd lxx
	passwd
2.切换到lxx
	su - lxx
3.尝试cd到/root目录
	权限不够
4.切换回root用户
	su - root
	或者	exit
5.再次cd到/root目录
	可以进入
```





## 7 用户组

### 7.1 说明

用以对具备同一权限的用户进行统一管理

就好比:**运维组,技术组**



### 7.2 增加组

```
groupadd 组名
```

### 7.3 删除组

```
groupdel 组名
```

**前提:组内不能有用户,否则无法删除**





## 8 修改用户的组

### 1 基本指令

```
usermod -g 组名 用户名
```

![](https://img2018.cnblogs.com/blog/1739658/202001/1739658-20200109122611390-1287914246.png)





## 9 /etc/passwd 文件

这是用户的配置文件,记录着用户的各种信息

![](https://img2018.cnblogs.com/blog/1739658/202001/1739658-20200109122613419-703396908.png)

每行含义:用户名:口令(不显示):用户id:组id:注释性描述:主目录:Shell



## 10 /etc/shadow 文件

口令配置文件

存用户密码和相关时间的地方

![](https://img2018.cnblogs.com/blog/1739658/202001/1739658-20200109123335621-311081895.png)

## 11 /etc/group 文件

组的配置文件

![](https://img2018.cnblogs.com/blog/1739658/202001/1739658-20200109122616380-269378025.png)



